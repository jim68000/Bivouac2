<!DOCTYPE html>

<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>status</title>
	<meta name="generator" content="TextMate http://macromates.com/">
	<meta name="author" content="Jim Smith">
	<!-- Date: 2011-04-28 -->
	<script src="lib/micro.js" type="text/javascript" charset="utf-8"></script>
	<style type="text/css" media="screen">
		#speedo {
			position: relative;
			height: 100px;
			width: 200px;
			overflow: hidden;
		}
		
		#dial {
			position: absolute;
			top: 0;
			left: 0;
		}
		
		#indicator {
			position: absolute;
			top: 0;
			left: 0;
		}

		#speed {
			position: absolute;
			bottom: 0;
			left: 80px;
			font: 75% "Lucida Grande", "Trebuchet MS", Verdana, sans-serif;
		}
		
		
		.null {
			-webkit-transform: rotate(0deg);
		}


		.slow {
			-webkit-animation-name: slow;
			-webkit-transform: rotate(33deg);
            -webkit-animation-duration: 2s;
            -webkit-animation-iteration-count: 1;

		}
		
		@-webkit-keyframes slow {
			
			0% {
				-webkit-transform: rotate(0deg);				
			}

			100% {
				-webkit-transform: rotate(33deg);				
			}
			
		}
		
		.fast {
			-webkit-animation-name: fast;
			-webkit-transform: rotate(78deg);
			
		}


		#graticulations {
			position: absolute;
			top: 0;
			left: 0;
		}
		
		
		
	</style>
</head>
<body>

<div id="speedo">
		<img src="imgs/speedo/dial.png" width="200" height="200" alt="" id="dial">
		<img src="imgs/speedo/indicator.png" width="200" height="200" alt="Indicator" id="indicator" class="null">
		<img src="imgs/speedo/gradations.png" width="200" height="200" alt="" id="graticulations">
		<div id="speed">
			0Mbits
		</div>
</div>

<script type="text/javascript" charset="utf-8">
	// cw.remove($('indicator'), "null");
	
	var mins = 13;
	cw.add($('indicator'), "slow");
	
	$('indicator').addEventListener('webkitAnimationEnd', function( event ) { $('speed').innerHTML = "6Mbits" }, false );
	
	setInterval(
		function() {
			$('minutes').innerHTML = ++mins + "<br>mins";
		}, 1000
	);
	
</script>
</body>
</html>
